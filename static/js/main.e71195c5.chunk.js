(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{32:function(t,e,c){},58:function(t,e,c){},60:function(t,e,c){},61:function(t,e,c){},70:function(t,e,c){},71:function(t,e,c){},72:function(t,e,c){"use strict";c.r(e);var n=c(1),s=c.n(n),i=c(33),a=c.n(i),o=c(23),l=c(8),r=c(4),d=c.n(r),j=c(2),u=c(17),b=c.n(u),h=c(18),m=(c(58),c(0)),f=function(t){var e=t.color,c=t.onClick,n=t.className;return Object(m.jsx)("i",{onClick:c,className:b()("badge",Object(h.a)({},"badge--".concat(e),e),n)})},p=c.p+"static/media/close.ac7b9278.svg",O=function(t){var e=t.items,c=t.isRemovable,n=t.onClick,s=t.onRemove,i=t.onClickItem,a=t.activeItem;return Object(m.jsx)("ul",{onClick:n,className:"list",children:e.map((function(t,e){return Object(m.jsxs)("li",{onClick:i?function(){return i(t)}:null,className:b()(t.className,{active:t.active?t.active:a&&a.id===t.id}),children:[Object(m.jsx)("i",{children:t.icon?t.icon:Object(m.jsx)(f,{color:t.color.name})}),Object(m.jsxs)("span",{children:[t.name,t.tasks&&"(".concat(t.tasks.length,")")]}),c&&Object(m.jsx)("img",{onClick:function(){return function(t){window.confirm("\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a?")&&d.a.delete("http://localhost:3001/lists/"+t.id).then((function(e){s(t.id)}))}(t)},className:"list__close-icon",src:p,alt:"Close icon"})]},e)}))})},k=c(11),x=(c(60),c(61),function(t){var e=t.colors,c=t.onAddList,s=Object(n.useState)(!1),i=Object(l.a)(s,2),a=i[0],o=i[1],r=Object(n.useState)(3),j=Object(l.a)(r,2),u=j[0],b=j[1],h=Object(n.useState)(!1),x=Object(l.a)(h,2),v=x[0],C=x[1],g=Object(n.useState)(""),w=Object(l.a)(g,2),_=w[0],N=w[1];Object(n.useEffect)((function(){Array.isArray(e)&&b(e[0].id)}),[e]);var L=function(){o(!1),N(""),b(e[0].id)};return Object(m.jsxs)("div",{className:"add-list",children:[Object(m.jsx)(O,{onClick:function(){return o(!a)},items:[{className:"list__add-button",icon:Object(m.jsxs)("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(m.jsx)("path",{d:"M6 1V11",stroke:"#868686","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),Object(m.jsx)("path",{d:"M1 6H11",stroke:"#868686","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})]}),name:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a"}]}),a&&Object(m.jsxs)("div",{className:"add-list__popup",children:[Object(m.jsx)("img",{onClick:L,src:p,alt:"close button",className:"add-list__popup-close-btn"}),Object(m.jsx)("input",{value:_,onChange:function(t){return N(t.target.value)},className:"field",type:"text",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0441\u043f\u0438\u0441\u043a\u0430"}),Object(m.jsx)("div",{className:"add-list__popup-colors",children:e.map((function(t){return Object(m.jsx)(f,{className:u===t.id&&"active",onClick:function(){return b(t.id)},color:t.name},t.id)}))}),Object(m.jsx)("button",{onClick:function(){_?(C(!0),d.a.post("http://localhost:3001/lists",{name:_,colorId:u}).then((function(t){var n=t.data;console.log(n);var s=e.filter((function(t){return t.id===u}))[0],i=Object(k.a)(Object(k.a)({},n),{},{color:s,tasks:[]});c(i),L()})).catch((function(){alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0438 \u0441\u043f\u0438\u0441\u043a\u0430!")})).finally((function(){C(!1)}))):alert("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0441\u043f\u0438\u0441\u043a\u0430")},className:"btn",children:v?"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435...":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]})]})}),v=c.p+"static/media/pen.d48cb023.svg",C=c(19),g=c.p+"static/media/plus.bb82cf25.svg",w=(c(32),function(t){var e=t.list,c=t.onAddTask,s=Object(n.useState)(!1),i=Object(l.a)(s,2),a=i[0],o=i[1],r=Object(n.useState)(""),j=Object(l.a)(r,2),u=j[0],b=j[1],h=Object(n.useState)(""),f=Object(l.a)(h,2),p=f[0],O=f[1],k=function(){o(!a),b("")};return Object(m.jsx)("div",{children:Object(m.jsx)("div",{className:"tasks__form",children:a?Object(m.jsxs)("div",{className:"tasks__form-block",children:[Object(m.jsx)("input",{value:u,onChange:function(t){return b(t.target.value)},className:"field",type:"text",placeholder:"\u0422\u0435\u043a\u0441\u0442 \u0437\u0430\u0434\u0430\u0447\u0438"}),Object(m.jsxs)("div",{className:"button",children:[Object(m.jsx)("button",{disabled:p,onClick:function(){var t={listId:e.id,text:u,completed:!1};u?(O(!0),d.a.post("http://localhost:3001/tasks/",t).then((function(t){var n=t.data;c(e.id,n),k()})).catch((function(){alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0438 \u0437\u0430\u0434\u0430\u0447\u0438")})).finally((function(){O(!1)}))):alert("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438")},className:"btn",children:p?"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435..":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443"}),Object(m.jsx)("button",{onClick:k,className:"btn btn--grey",children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})]}):Object(m.jsxs)("div",{onClick:k,className:"tasks__form-new",children:[Object(m.jsx)("img",{className:"tasks__form-img",src:g,alt:"plus"}),Object(m.jsx)("span",{children:"\u041d\u043e\u0432\u0430\u044f \u0437\u0430\u0434\u0430\u0447\u0430"})]})})})}),_=function(t){var e=t.list,c=t.id,n=t.text,s=t.onEdit,i=t.onRemoveTask,a=t.onComplete,o=t.completed;return Object(m.jsxs)("div",{className:"tasks__items-block",children:[Object(m.jsxs)("label",{className:"checkbox",children:[Object(m.jsx)("input",{onChange:function(t){a(e.id,c,t.target.checked)},id:"task-".concat(c),type:"checkbox",checked:o}),Object(m.jsxs)("label",{htmlFor:"task-".concat(c),children:["    ",Object(m.jsx)("svg",{width:"11",height:"8",viewBox:"0 0 11 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(m.jsx)("path",{d:"M9.29999 1.20001L3.79999 6.70001L1.29999 4.20001",stroke:"#fff","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})})]})]}),Object(m.jsx)("p",{children:n}),Object(m.jsxs)("div",{className:"tasks__items-block-actions",children:[Object(m.jsx)("div",{onClick:function(){return s(e.id,{id:c,text:n})},children:Object(m.jsx)("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(m.jsx)("path",{d:"M0 12.0504V14.5834C0 14.8167 0.183308 15 0.41661 15H2.9496C3.05792 15 3.16624 14.9583 3.24123 14.875L12.34 5.78458L9.21542 2.66001L0.124983 11.7504C0.0416611 11.8338 0 11.9337 0 12.0504ZM14.7563 3.36825C14.8336 3.29116 14.8949 3.1996 14.9367 3.0988C14.9785 2.99801 15 2.88995 15 2.78083C15 2.6717 14.9785 2.56365 14.9367 2.46285C14.8949 2.36205 14.8336 2.27049 14.7563 2.19341L12.8066 0.24367C12.7295 0.166428 12.638 0.105146 12.5372 0.0633343C12.4364 0.021522 12.3283 0 12.2192 0C12.1101 0 12.002 0.021522 11.9012 0.0633343C11.8004 0.105146 11.7088 0.166428 11.6318 0.24367L10.107 1.76846L13.2315 4.89304L14.7563 3.36825V3.36825Z",fill:"black"})})}),Object(m.jsx)("div",{onClick:function(){return i(e.id,c)},children:Object(m.jsx)("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(m.jsx)("path",{d:"M6.87215 5.5L10.7129 1.65926C10.8952 1.47731 10.9977 1.23039 10.9979 0.972832C10.9982 0.715276 10.8961 0.468178 10.7141 0.285898C10.5321 0.103617 10.2852 0.00108525 10.0277 0.000857792C9.77011 0.000630336 9.52302 0.102726 9.34074 0.284685L5.5 4.12542L1.65926 0.284685C1.47698 0.102404 1.22976 0 0.971974 0C0.714191 0 0.466965 0.102404 0.284685 0.284685C0.102404 0.466965 0 0.714191 0 0.971974C0 1.22976 0.102404 1.47698 0.284685 1.65926L4.12542 5.5L0.284685 9.34074C0.102404 9.52302 0 9.77024 0 10.028C0 10.2858 0.102404 10.533 0.284685 10.7153C0.466965 10.8976 0.714191 11 0.971974 11C1.22976 11 1.47698 10.8976 1.65926 10.7153L5.5 6.87458L9.34074 10.7153C9.52302 10.8976 9.77024 11 10.028 11C10.2858 11 10.533 10.8976 10.7153 10.7153C10.8976 10.533 11 10.2858 11 10.028C11 9.77024 10.8976 9.52302 10.7153 9.34074L6.87215 5.5Z",fill:"black"})})})]})]},c)},N=function(t){var e=t.list,c=t.onEditTitle,n=t.onAddTask,s=t.withoutEmpty,i=t.onRemoveTask,a=t.onEditTask,o=t.onCompleteTask;return Object(m.jsxs)("div",{className:"tasks",children:[Object(m.jsx)(C.b,{to:"/lists/".concat(e.id),children:Object(m.jsxs)("h2",{style:{color:e.color.hex},className:"tasks__title",children:[e.name,Object(m.jsx)("img",{className:"tasks__title-img",onClick:function(){var t=window.prompt("\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0441\u043f\u0438\u0441\u043a\u0430",e.name);t&&(c(e.id,t),d.a.patch("http://localhost:3001/lists/"+e.id,{name:t}).catch((function(){alert("\u043d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0441\u043f\u0438\u0441\u043a\u0430")})))},src:v,alt:"pen svg"})]})}),Object(m.jsxs)("div",{className:"tasks__items",children:[!s&&e.tasks&&!e.tasks.length&&Object(m.jsx)("h2",{children:"\u0417\u0430\u0434\u0430\u0447\u0438 \u043e\u0442\u0441\u0443\u0442\u0441\u0432\u0443\u044e\u0442!"}),e.tasks&&e.tasks.map((function(t){return Object(m.jsx)(_,Object(k.a)(Object(k.a)({list:e},t),{},{onRemoveTask:i,onEdit:a,onComplete:o}),t.id)})),Object(m.jsx)(w,{list:e,onAddTask:n},e.id)]})]})},L=(c(70),c.p+"static/media/Vector.a862c15f.svg");var T=function(){var t=Object(n.useState)(null),e=Object(l.a)(t,2),c=e[0],s=e[1],i=Object(n.useState)(null),a=Object(l.a)(i,2),r=a[0],u=a[1],b=Object(n.useState)(null),h=Object(l.a)(b,2),f=h[0],p=h[1],k=Object(j.e)();Object(j.f)(),Object(n.useEffect)((function(){d.a.get("http://localhost:3001/lists?_expand=color&_embed=tasks").then((function(t){var e=t.data;s(e)})),d.a.get("http://localhost:3001/colors").then((function(t){var e=t.data;u(e)}))}),[]),Object(n.useEffect)((function(){var t=k.location.pathname.split("lists/")[1];if(c){var e=c.find((function(e){return e.id===Number(t)}));p(e)}}),[c,k.location.pathname]);var v=function(t,e){var n=c.map((function(c){return c.id===t&&(c.tasks=[].concat(Object(o.a)(c.tasks),[e])),c}));s(n)},C=function(t,e,n){var i=c.map((function(c){return c.id===t&&(c.tasks=c.tasks.map((function(t){return t.id===e&&(t.completed=n),t}))),c}));s(i),d.a.patch("http://localhost:3001/tasks/"+e,{completed:n}).catch((function(){alert("\u043d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443")}))},g=function(t,e){var n=c.map((function(c){return c.id===t&&(c.name=e),c}));s(n)},w=function(t,e){if(window.confirm("\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443?")){var n=c.map((function(c){return c.id===t&&(c.tasks=c.tasks.filter((function(t){return t.id!==e}))),c}));s(n),d.a.delete("http://localhost:3001/tasks/"+e).catch((function(){alert("\u043d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443")}))}},_=function(t,e){var n=window.prompt("\u0422\u0435\u043a\u0441\u0442 \u0437\u0430\u0434\u0430\u0447\u0438",e.text);if(n){var i=c.map((function(c){return c.id===t&&(c.tasks=c.tasks.map((function(t){return t.id===e.id&&(t.text=n),t}))),c}));s(i),d.a.patch("http://localhost:3001/tasks/"+e.id,{text:n}).catch((function(){alert("\u043d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443")}))}};return Object(m.jsxs)("div",{className:"todo",children:[Object(m.jsxs)("div",{className:"todo__sidebar",children:[Object(m.jsx)(O,{onClickItem:function(t){k.push("/")},items:[{active:"/"===k.location.pathname,icon:Object(m.jsx)("img",{src:L,alt:"list icon"}),name:"\u0412\u0441\u0435 \u0437\u0430\u0434\u0430\u0447\u0438"}]}),c?Object(m.jsx)(O,{items:c,onRemove:function(t){var e=c.filter((function(e){return e.id!==t}));s(e)},isRemovable:!0,onClickItem:function(t){k.push("/lists/".concat(t.id))},activeItem:f}):"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...",Object(m.jsx)(x,{onAddList:function(t){var e=[].concat(Object(o.a)(c),[t]);s(e)},colors:r})]}),Object(m.jsxs)("div",{className:"todo__task",children:[Object(m.jsx)(j.a,{exact:!0,path:"/",children:c&&c.map((function(t){return Object(m.jsx)(N,{onAddTask:v,list:t,onEditTitle:g,onRemoveTask:w,onEditTask:_,onCompleteTask:C,withoutEmpty:!0},t.id)}))}),Object(m.jsx)(j.a,{path:"/lists/:id",children:c&&f&&Object(m.jsx)(N,{onAddTask:v,list:f,onEditTitle:g,onRemoveTask:w,onEditTask:_,onCompleteTask:C})})]})]})},y=function(t){t&&t instanceof Function&&c.e(3).then(c.bind(null,73)).then((function(e){var c=e.getCLS,n=e.getFID,s=e.getFCP,i=e.getLCP,a=e.getTTFB;c(t),n(t),s(t),i(t),a(t)}))};c(71);a.a.render(Object(m.jsx)(s.a.StrictMode,{children:Object(m.jsx)(C.a,{children:Object(m.jsx)(T,{})})}),document.getElementById("root")),y()}},[[72,1,2]]]);
//# sourceMappingURL=main.e71195c5.chunk.js.map